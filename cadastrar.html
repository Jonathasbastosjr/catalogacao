<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cadastrar/Editar Obra — Catálogo</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <h1 id="formTitle">Cadastrar nova obra</h1>
    <nav>
      <a href="index.html" class="link">← Voltar ao catálogo</a>
      <button id="btnExport" class="secondary">Exportar JSON</button>
    </nav>
  </header>

  <main class="formwrap">
    <form id="formObra" class="form">
      <div class="grid2">
        <label>Artista
          <input name="artist" required placeholder="Nome do artista" />
        </label>
        <label>Título
          <input name="title" required placeholder="Título da obra" />
        </label>
        <label>Ano
          <input name="year" inputmode="numeric" pattern="\d{0,4}" placeholder="ex.: 2004" />
        </label>
        <label>Técnica
          <input name="technique" placeholder="ex.: óleo sobre tela" />
        </label>
        <label>Suporte
          <input name="support" placeholder="ex.: tela, papel, madeira..." />
        </label>
        <label>Categoria
          <input name="category" placeholder="ex.: pintura, gravura, escultura..." />
        </label>
      </div>

      <div class="grid3">
        <label>Altura (cm)
          <input name="h_cm" inputmode="decimal" step="0.01" />
        </label>
        <label>Largura (cm)
          <input name="w_cm" inputmode="decimal" step="0.01" />
        </label>
        <label>Profundidade (cm)
          <input name="d_cm" inputmode="decimal" step="0.01" />
        </label>
      </div>

      <div class="grid2">
        <label>ID
          <input name="artwork_id" class="readonly" readonly />
        </label>
        <label>Emprestada ou em Restauro
          <select name="loan_status">
            <option value="">—</option>
            <option value="Emprestada">Emprestada</option>
            <option value="Restauro">Restauro</option>
          </select>
        </label>
      </div>

      <label>Localização
        <input name="location" placeholder="" />
      </label>

      <label>Observações
        <textarea name="observations" rows="3" placeholder=""></textarea>
      </label>

      <div class="previewWrap">
        <div class="preview" id="imgPreview"><span>Imagem da obra</span></div>
        <div class="previewHint">Clique na prévia para selecionar ou trocar a imagem (será enviada ao servidor).</div>
      </div>

      <input name="image_file" id="image_file" type="file" accept="image/*" hidden />

      <div class="actions">
        <button type="submit">Salvar</button>
        <button type="button" id="btnClear" class="secondary">Limpar</button>
      </div>
    </form>
  </main>

  <footer>
    <small>As imagens enviadas são salvas no servidor, na pasta <strong>imagens/</strong>.</small>
  </footer>

  <script src="storage.js"></script>
  <script src="cadastrar.js"></script>
</body>
</html>